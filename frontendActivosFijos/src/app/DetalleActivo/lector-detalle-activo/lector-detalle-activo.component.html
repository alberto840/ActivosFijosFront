<div class="container">
    <h1>Ver detalle activos individuales</h1>
        <!--  -->
        <div class="container">
            <h1>Buscar Activos</h1>
            <input type="text" class="form-control" [(ngModel)]="filtroBusqueda" placeholder="Buscar activos" (input)="filtrarActivos()">
          
            <ul class="list-group mt-3 b-content" *ngIf="activosFiltrados.length > 0">
              <li class="list-group-item" *ngFor="let activo of activosFiltrados">
                {{ activo.activo_nombre }}
                <button class="btn btn-primary" (click)="seleccionarActivo(activo)">Seleccionar</button>
              </li>
            </ul>
        </div>
          
        <!--  -->
    <div class="container text-center">
        <div class="row">
            <div class="col-4">
                <mat-card>
                    <div class="form-container">
                        <mat-card-header>
                            <mat-card-title>Datos de Activo</mat-card-title>
                                <mat-card-content>
                                    <p>17-05-2023</p>
                                </mat-card-content>
                                <mat-card-subtitle>(Ultima actualización)</mat-card-subtitle>
                        </mat-card-header>
                    </div>
                    <div class="container">
                        <mat-card-title>ID:</mat-card-title>
                        <mat-card-content>
                            <p>{{ activoSeleccionado.id_activo }}</p>
                        </mat-card-content>
                    
                        <mat-card-title>Nombre activo:</mat-card-title>
                        <mat-card-content>
                            <p>{{ activoSeleccionado.activo_nombre }}</p>
                        </mat-card-content>
        
                        <mat-card-title>Nombre grupo:</mat-card-title>
                        <mat-card-content><p>{{ auxGrupo }}</p></mat-card-content>
                            
                        <mat-card-title>
                            Custodio:  
                        </mat-card-title>
                        <mat-card-content>
                            <p>{{ auxCustodio }}</p>
                        </mat-card-content>
                        
                        <mat-card-title>
                            Dirección actual :  
                        </mat-card-title>
                        <mat-card-content>
                        <p>{{ auxDireccion }}</p>
                        </mat-card-content>

                        <mat-card-title>
                            Estado actual :  
                        </mat-card-title>
                        <mat-card-content>
                        <p>{{ activoSeleccionado.activo_estado }}</p>
                        </mat-card-content>

                        <mat-card-title>
                            Estado de uso actual :  
                        </mat-card-title>
                        <mat-card-content>
                        <p>{{ activoSeleccionado.activo_estado_uso }}</p>
                        </mat-card-content>

                        <mat-card-title>
                            Marca :  
                        </mat-card-title>
                        <mat-card-content>
                        <p>{{ auxMarcas }}</p>
                        </mat-card-content>
                        
                        <div class="conte-boton">
                            <mat-card-title>
                                Codigo QR :  
                            </mat-card-title>
                            <qrcode (qrCodeURL)="onChangeURL($event)" [qrdata]="myAngularxQrCode" [width]="256" [errorCorrectionLevel]="'M'"></qrcode>
                            <a [href]="qrCodeDownloadLink" download="qrcode">Descargar QR</a>
                        </div>
                                     
                    </div>
                </mat-card>
            </div>
            <div class="col-8">
                <h3>Historial del activo</h3>
                        <mat-table [dataSource]="historiaAux1" class="mat-elevation-z8">
                            <!-- Fecha Column -->
                            <ng-container matColumnDef="fecha">
                              <mat-header-cell *matHeaderCellDef> Fecha </mat-header-cell>
                              <mat-cell *matCellDef="let element"> {{element.activo_fecha_historial}} </mat-cell>
                            </ng-container>
                          
                            <!-- Custodio Column -->
                            <ng-container matColumnDef="custodio">
                              <mat-header-cell *matHeaderCellDef> Custodio </mat-header-cell>
                              <mat-cell *matCellDef="let element; let i = index"> {{custodio2aux[i]}} </mat-cell>
                            </ng-container>
                          
                            <!-- Direccion Column -->
                            <ng-container matColumnDef="direccion">
                              <mat-header-cell *matHeaderCellDef> Dirección </mat-header-cell>
                              <mat-cell *matCellDef="let element; let i = index"> {{ pais2aux[i]+', '+departamento2aux[i]+', '+provincia2aux[i]+', '+sucursal2aux[i]+', '+bloque2aux[i]+', '+aula2aux }} </mat-cell>
                            </ng-container>
                          
                            <!-- Valor Column -->
                            <ng-container matColumnDef="valor">
                              <mat-header-cell *matHeaderCellDef> Valor Total </mat-header-cell>
                              <mat-cell *matCellDef="let element"> {{element.valor_historial}} </mat-cell>
                            </ng-container>

                            <!-- Valor Column -->
                            <ng-container matColumnDef="usuario">
                              <mat-header-cell *matHeaderCellDef> Usuario editor </mat-header-cell>
                              <mat-cell *matCellDef="let element"> {{element.usuario_historial}} </mat-cell>
                            </ng-container>

                            <!-- Valor Column -->
                            <ng-container matColumnDef="estado de uso">
                              <mat-header-cell *matHeaderCellDef> Estado de uso </mat-header-cell>
                              <mat-cell *matCellDef="let element"> {{element.activo_estado_uso}} </mat-cell>
                            </ng-container>

                            <!-- Valor Column -->
                            <ng-container matColumnDef="grupo">
                              <mat-header-cell *matHeaderCellDef>Grupo </mat-header-cell>
                              <mat-cell *matCellDef="let element; let i = index"> {{grupo2aux[i]}} </mat-cell>
                            </ng-container>
                          
                            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
                        </mat-table>
                  
                  
            </div>
            
                
        </div>
    </div>
</div>